<% errors = polling_location.errors %>

<%= turbo_frame_tag 'polling_location_form' do %>
  <dialog data-controller="form" class="p-8">
    <div class="flex mb-6">
      <button data-action="form#close" class="ml-auto">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 32 32">
          <path d="M 7.21875 5.78125 L 5.78125 7.21875 L 14.5625 16 L 5.78125 24.78125 L 7.21875 26.21875 L 16 17.4375 L 24.78125 26.21875 L 26.21875 24.78125 L 17.4375 16 L 26.21875 7.21875 L 24.78125 5.78125 L 16 14.5625 Z"></path>
        </svg>
      </button>
    </div>

    <h1 class="text-xl font-semibold leading-6 text-gray-900 mb-3">
      <%= header %>
    </h1>

    <%= form_with model: [riding, polling_location], class: "flex flex-col gap-4" do |form| %>
      <%= render "form_input", form:, errors:, attribute: :title %>

      <%= render "form_input", form:, errors:, attribute: :address %>

      <%= render "form_input", form:, errors:, attribute: :city %>

      <%= render "form_input", form:, errors:, attribute: :postal_code %>

      <%= render "form_input",
            form:,
            errors:,
            attribute: :polls,
            name: :poll_numbers,
            value: polling_location.poll_numbers.join(", ")
      %>

      <%= render "error_messages", error_messages: errors.messages_for(:base) %>

      <%= form.submit "Update", class: "cursor-pointer bg-slate-100 hover:bg-slate-200 rounded p-2 border-2" %>
    <% end %>
  </dialog>
<% end %>
